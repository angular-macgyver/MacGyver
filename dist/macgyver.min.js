!function(a,b,c){function d(b){return a.getComputedStyle(b,null)}function e(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function f(a){return a&&null!=a.$evalAsync&&null!=a.$watch}function g(a){return e(a)?a:9===a.nodeType&&a.defaultView}function h(a,b,c,d,e){var f,g,h;if(c===(d?"border":"content"))return 0;for(h=0,g="Width"===b?1:0,f=g;f<=3;f+=2)"margin"===c&&(h+=parseFloat(e[""+c+q[f]]||0)),d?("content"===c&&(h-=parseFloat(e["padding"+q[f]]||0)),"margin"!==c&&(h-=parseFloat(e["border"+q[f]]||0))):(h+=parseFloat(e["padding"+q[f]]||0),"padding"!==c&&(h+=parseFloat(e["border"+q+"Width"]||0)));return h}function i(a,b,c){return function(f){var g,i,j,k,l,m,n,o;switch(b){case"inner":g="padding";break;case"outer":g="";break;default:g="content"}if(j=g||(f===!0?"margin":"border"),e(c))return c.document.documentElement["client"+a];if(9===c.nodeType)return i=c.documentElement,Math.max(c.body["scroll"+a],i["scroll"+a],c.body["offset"+a],i["offset"+a],i["client"+a]);if(o=!0,m=d(c),l=a.toLowerCase(),n="Height"===a?c.offsetHeight:c.offsetWidth,k="border-box"===c.style.boxSizing,n<=0||null===n){if(n=m[l],(n<0||null===n)&&(n=c.style[l]),s.test(n))return n;o=k,n=parseFloat(n)||0}return n+h(c,a,j||(k?"border":"content"),o,m)}}function j(a){for(var b=a.parentNode;b&&"static"===b.style.position;)b=b.parentNode;return b||document.documentElement}function k(a,c,d,e){this.$document=c,this.defaults=e,this.$element=a,this.offset={top:e.top,bottom:e.bottom},this.windowEl=b.element(d),this.disabled=e.disabled,this.lastAffix=null,this.unpin=null,this.pinnedOffset=null}function l(a,b,c,d,e,f,g,h,i,j,k){this.$scope=a,this.$element=b,this.$attrs=c,this.$animate=d,this.$timeout=e,this.$q=f,this.$filter=g,this.$parse=h,this.keys=i,this.$compile=j,this.$http=k,this.currentAutocompleteData=[],this.preventParser=!1,this.isMenuAppended=!1,this.inside=!!this.$attrs.macAutocompleteInside,this.timeoutPromise=null,this.previousPromise=null,this.$menuScope=null,this.menuEl=null,this.$scope.$on("reset-mac-autocomplete",function(a){a.macAutocomplete.reset()})}function m(a,b,d,e,f,g){this.$scope=a,this.$element=b,this.$attrs=d,this.$parse=e,this.$timeout=f,this.keys=g,this.textInput="",this.labelKey=this.labelKey!=c?this.labelKey:"name",this.labelGetter=e(this.labelKey)}function n(a){var c="macKeydown"+a;b.module("Mac").directive(c,["$parse","keys",function(b,d){return{restrict:"A",link:function(e,f,g){var h=b(g[c]);f.bind("keydown",function(b){b.which===d[a.toUpperCase()]&&(b.preventDefault(),e.$apply(function(){h(e,{$event:b})}))})}}}])}function o(a){var c="macTagAutocomplete"+a,d=a.toLowerCase();b.module("Mac").directive(c,["$parse",function(a){return{restrict:"A",priority:700,require:"macTagAutocomplete",link:function(e,f,g,h){var i=b.element(f[0].querySelector(".mac-autocomplete")),j=a(g[c]);i&&i.bind(d,function(a){e.$apply(function(){j(e,{$event:a,ctrl:h,value:h.textInput})})})}}}])}function p(a,b){return function(){return function(c,d,e){return d=d||a,e=e||b,c?d:e}}}b.module("Mac",["Mac.Util"]);var q=["Top","Right","Bottom","Left"],r=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,s=new RegExp("^("+r+")(?!px)[a-z%]+$","i");b.isScope=f;var t={height:function(a){return i("Height","",a)()},width:function(a){return i("Width","",a)()},outerHeight:function(a,b){return i("Height","outer",a)(b)},outerWidth:function(a,b){return i("Width","outer",a)(b)},offset:function(a){var b,c,d,e;return a.getClientRects().length?(b=a.getBoundingClientRect(),b.width||b.height?(c=a.ownerDocument,d=g(c),e=c.documentElement,{top:b.top+d.pageYOffset-e.clientTop,left:b.left+d.pageXOffset-e.clientLeft}):b):{top:0,left:0}},position:function(a){var b,c,d={top:0,left:0};return"fixed"===a.style.position?c=a.getBoundingClientRect():(b=j(a),c=t.offset(a),"HTML"!==b.nodeName&&(d=t.offset(b)),d.top+=b.scrollTop,d.left+=b.scrollLeft),{top:c.top-d.top-a.style.marginTop,left:c.left-d.left-a.style.marginLeft}},scrollTop:function(b,c){var d=g(b);return null==c?d?d.pageYOffset:b.scrollTop:d?d.scrollTo(a.pageYOffset,c):b.scrollTop=c},scrollLeft:function(b,c){var d=g(b);return null==c?d?d.pageXOffset:b.scrollLeft:d?d.scrollTo(a.pageXOffset,c):b.scrollLeft=c}};!function(){var c=b.element;if(null==a.jQuery||null==b.element.prototype.offset)return b.forEach(t,function(a,b){return c.prototype[b]=function(b,c){if(this.length)return a(this[0],b,c)}})}(),b.module("Mac").constant("macTooltipDefaults",{direction:"top",trigger:"hover",inside:!1,class:"visible"}).constant("macTimeDefaults",{default:"12:00 AM",placeholder:"--:--"}).constant("scrollSpyDefaults",{offset:0,highlightClass:"active"}).constant("macPopoverDefaults",{trigger:{offsetY:0,offsetX:0,trigger:"click",container:null},element:{footer:!1,header:!1,title:"",direction:"above left",refreshOn:""},template:"<div class='mac-popover' ng-class='macPopoverClasses'>    <div class='tip'></div>    <div class='popover-header'>      <div class='title'>{{macPopoverTitle}}</div>    </div>    <div mac-popover-fill-content></div>  </div>"}).constant("macModalDefaults",{keyboard:!1,overlayClose:!1,resize:!1,position:!0,open:b.noop,topOffset:20,attributes:{},beforeShow:b.noop,afterShow:b.noop,beforeHide:b.noop,afterHide:b.noop,template:"<div class='mac-modal-overlay'>    <div class='mac-modal'>      <a mac-modal-close class='mac-close-modal'></a>      <div class='mac-modal-content-wrapper'></div>    </div>  </div>"}).constant("macAffixDefaults",{top:0,bottom:0,disabled:!1,classes:"affix affix-top affix-bottom"}),k.prototype.updateOffset=function(a,b,c){"top"!==a&&"bottom"!==a||(c&&null===b&&(b=this.defaults[a]),null===b||isNaN(+b)||(this.offset[a]=+b))},k.prototype.scrollEvent=function(){if(!(this.$element[0].offsetHeight<=0&&this.$element[0].offsetWidth<=0)){var a,b=this.windowEl.scrollTop(),c=this.$document.height(),d=this.$element.outerHeight();if(a=!(null!==this.unpin&&b<=this.unpin)&&(null!==this.offset.bottom&&b>c-d-this.offset.bottom?"bottom":null!==this.offset.top&&b<=this.offset.top&&"top"),a!==this.lastAffix){if(this.unpin&&this.$element.css("top",""),this.lastAffix=a,"bottom"===a?(null!==this.pinnedOffset&&(this.unpin=this.pinnedOffset),this.$element.removeClass(this.defaults.classes).addClass("affix"),this.pinnedOffset=this.$document.height()-this.$element.outerHeight()-this.offset.bottom,this.unpin=this.pinnedOffset):this.unpin=null,this.$element.removeClass(this.defaults.classes).addClass("affix"+(a?"-"+a:"")),"bottom"===a){var e=this.$element.offset();this.$element.css("top",this.unpin-e.top)}return!0}}},k.prototype.setDisabled=function(a){return this.disabled=a||this.defaults.disabled,this.disabled?this.reset():this.scrollEvent(),this.disabled},k.prototype.reset=function(){this.lastAffix=null,this.unpin=null,this.$element.css("top","").removeClass(this.defaults.classes)},b.module("Mac").controller("MacAffixController",["$element","$document","$window","macAffixDefaults",k]),l.prototype.initializeMenu=function(a,b){this._createMenuScope(a),this._createMenuElement(b)},l.prototype.blurHandler=function(){this.$scope.$apply(function(a){a.macAutocomplete.reset()})},l.prototype.keydownHandler=function(a){if(0===this.$menuScope.items.length)return!0;switch(a.which){case this.keys.DOWN:this.$scope.$apply(function(b){var c=b.macAutocomplete.$menuScope;c.index=(c.index+1)%c.items.length,a.preventDefault()});break;case this.keys.UP:this.$scope.$apply(function(b){var c=b.macAutocomplete.$menuScope;c.index=(c.index?c.index:c.items.length)-1,a.preventDefault()});break;case this.keys.ENTER:this.$scope.$apply(function(b){b.macAutocomplete.$menuScope.select(),a.preventDefault()});break;case this.keys.ESCAPE:this.$scope.$apply(function(b){b.macAutocomplete.reset(),a.preventDefault()})}return!0},l.prototype.reset=function(){var a=this;this.$animate.leave(this.menuEl).then(function(){a.$menuScope.index=0,a.$menuScope.items.length=0,a.currentAutocompleteData.length=0,a.menuEl[0].style.top="",a.menuEl[0].style.left="",a.isMenuAppended=!1,a.$element.unbind("blur")})},l.prototype._createMenuScope=function(a){return this.$menuScope=this.$scope.$new(),this.$menuScope.items=[],this.$menuScope.index=0,this.$menuScope.class=this.class,this.$menuScope.$macAutocompleteCtrl=this,this.$menuScope.select=function(b){"undefined"==typeof b&&(b=this.index);var c=this.$macAutocompleteCtrl.currentAutocompleteData[b];if(c&&this.$macAutocompleteCtrl.onSelect({selected:c}),a){var d=this.items[b].label||"";this.$macAutocompleteCtrl.preventParser=!0,a.$setViewValue(d),a.$render()}this.$macAutocompleteCtrl.reset()},this.$scope.$on("$destroy",function(a){a.macAutocomplete.$menuScope.$destroy()}),this.$menuScope},l.prototype._createMenuElement=function(a){var c=this;return this.menuEl=b.element(document.createElement("mac-menu")),this.menuEl.attr({"ng-class":"class","mac-menu-items":"items","mac-menu-select":"select(index)","mac-menu-index":"index"}),a(this.$menuScope,function(a){c.menuEl.append(a)}),this.$compile(this.menuEl)(this.$menuScope)},l.prototype.parser=function(a){if(!a||this.disabled||this.preventParser)this.reset();else{this.timeoutPromise&&(this.$timeout.cancel(this.timeoutPromise),this.$timeoutPromise=null);var b=this._getDelay();if(b>0){var c=this;this.timeoutPromise=this.$timeout(function(){c.queryData(a)},b)}else this.queryData(a)}return this.preventParser=!1,a},l.prototype.updateItem=function(a){var c=this.$attrs.macAutocompleteLabel||"name",d=this.$parse(c),e=this;a&&a.length>0?(this.currentAutocompleteData=a,this.$menuScope.items=a.map(function(a){return b.isObject(a)?(a.value||(a.value=d(a)||""),a.label||(a.label=d(a)||""),a):{label:a,value:a}},this),this.appendMenu().then(function(){return e.positionMenu()})):this.reset()},l.prototype.appendMenu=function(){var a=this;return this.isMenuAppended||(this.$element.bind("blur",function(){return a.blurHandler()}),this.menuEl.on("mousedown",function(a){a.preventDefault()})),this.isMenuAppended=!0,this.menuEl[0].style.visibility="hidden",this.inside?this.$animate.enter(this.menuEl,c,this.$element):this.$animate.enter(this.menuEl,b.element(document.body))},l.prototype.positionMenu=function(){var a=this.$element.offset();a.top+=this.$element.outerHeight(),a.minWidth=this.$element.outerWidth(),b.forEach(a,function(a,c){!isNaN(+a)&&b.isNumber(+a)&&(a+="px"),this.menuEl[0].style[c]=a},this),this.menuEl[0].style.visibility="visible"},l.prototype.getData=function(a,b){var c={method:"GET",url:a,params:{}},d=this,e=this.queryKey||"q";return b?(c.params[e]=b,this.previousPromise&&this.previousPromise.resolve(),this.previousPromise=this.$q.defer(),c.timeout=this.previousPromise.promise,this.$http(c).success(function(a,b,c){var e=d.onSuccess({data:a,status:b,headers:c});e||(e=a.data),d.updateItem(e)}).error(function(a,b,c){d.onError({data:a,status:b,headers:c})})):this.$q.when()},l.prototype.queryData=function(a){var c=this;return b.isArray(this.source)?this.updateItem(this.$filter("filter")(this.source,a)):b.isString(this.source)?this.getData(this.source,a):b.isFunction(this.source)?this.source(a,function(a){c.updateItem(a)}):void 0},l.prototype._getDelay=function(){return isNaN(+this.delay)?800:+this.delay},b.module("Mac").controller("MacAutocompleteController",["$scope","$element","$attrs","$animate","$timeout","$q","$filter","$parse","keys","$compile","$http",l]),m.prototype.onKeyDown=function(a){var c=a.which||a.keyCode;switch(c){case this.keys.BACKSPACE:!this.$scope.textInput&&b.isArray(this.selected)&&this.selected.pop();break;case this.keys.ENTER:this.textInput&&this.disabled&&this.onSelect(this.textInput)}return this.onKeydownFn({$event:a,value:this.textInput}),!0},m.prototype.onSuccess=function(a,b,c){var d=a.data;return this.$attrs.macTagAutocompleteOnSuccess&&(d=this.onSuccessFn({data:a,status:b,headers:c})),d},m.prototype.onSelect=function(a){this.$attrs.macTagAutocompleteOnEnter&&(a=this.onEnterFn({item:a})),a&&b.isArray(this.selected)&&this.selected.push(a);var c=this;this.$timeout(function(){c.textInput=""},0)},m.prototype.getTagLabel=function(a){return this.labelKey?this.labelGetter(a):a},b.module("Mac").controller("MacTagAutocompleteController",["$scope","$element","$attrs","$parse","$timeout","keys",m]),b.module("Mac").directive("macAffix",["$window",function(a){return{require:"macAffix",bindToController:!0,controllerAs:"macAffix",controller:"MacAffixController",link:function(c,d,e,f){var g=function(){f.scrollEvent()},h=b.element(a);null!==e.macAffixTop&&(f.updateOffset("top",c.$eval(e.macAffixTop),!0),c.$watch(e.macAffixTop,function(a){f.updateOffset("top",a)})),null!==e.macAffixBottom&&(f.updateOffset("bottom",c.$eval(e.macAffixBottom),!0),c.$watch(e.macAffixBottom,function(a){f.updateOffset("bottom",a)})),e.macAffixDisabled&&(f.setDisabled(c.$eval(e.macAffixDisabled)),c.$watch(e.macAffixDisabled,function(a){if(null!==a&&a!==f.disabled){f.setDisabled(a);var b=a?"unbind":"bind";h[b]("scroll",g)}})),f.disabled||h.bind("scroll",g),c.$on("refresh-mac-affix",function(){f.scrollEvent()}),c.$on("$destroy",function(){h.unbind("scroll",g)})}}}]),b.module("Mac").directive("macAutocomplete",[function(){return{restrict:"EA",template:'<input type="text">',transclude:!0,replace:!0,require:["ngModel","macAutocomplete"],bindToController:!0,controllerAs:"macAutocomplete",controller:"MacAutocompleteController",scope:{onSelect:"&macAutocompleteOnSelect",onSuccess:"&macAutocompleteOnSuccess",onError:"&macAutocompleteOnError",source:"=macAutocompleteSource",disabled:"=?macAutocompleteDisabled",queryKey:"@macAutocompleteQuery",delay:"@macAutocompleteDelay",class:"=macMenuClass"},link:function(a,b,c,d,e){var f=d[0],g=d[1];g.initializeMenu(f,e),f.$parsers.push(function(a){return g.parser(a)}),b.bind("keydown",function(a){return g.keydownHandler(a)})}}}]);var u=["Enter","Escape","Space","Left","Up","Right","Down"];u.forEach(n),b.module("Mac").directive("macPauseTyping",["$parse","$timeout",function(a,b){return{restrict:"A",link:function(c,d,e){var f,g=a(e.macPauseTyping),h=c.$eval(e.macPauseTypingDelay)||800;d.bind("keyup",function(a){f&&b.cancel(f),f=b(function(){g(c,{$event:a})},h)})}}}]),b.module("Mac").directive("macWindowResize",["$parse","$window",function(a,c){return{restrict:"A",link:function(d,e,f){var g=a(f.macWindowResize),h=b.element(c),i=function(a){return d.$apply(function(){g(d,{$event:a})}),!0};h.bind("resize",i),d.$on("$destroy",function(){h.unbind("resize",i)})}}}]),b.module("Mac").constant("keys",{CANCEL:3,HELP:6,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,SEMICOLON:59,EQUALS:61,COMMAND:91,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUMPAD0:96,NUMPAD1:97,NUMPAD2:98,NUMPAD3:99,NUMPAD4:100,NUMPAD5:101,NUMPAD6:102,NUMPAD7:103,NUMPAD8:104,NUMPAD9:105,MULTIPLY:106,ADD:107,SEPARATOR:108,SUBTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NUM_LOCK:144,SCROLL_LOCK:145,COMMA:188,PERIOD:190,SLASH:191,BACK_QUOTE:192,OPEN_BRACKET:219,BACK_SLASH:220,CLOSE_BRACKET:221,QUOTE:222,META:224}),b.module("Mac").directive("macMenu",function(){return{restrict:"EA",replace:!0,template:'<div ng-style="style" class="mac-menu">  <ul>    <li class="mac-menu-item"        ng-class="{\'active\': $index == index}"        ng-click="selectItem($index)"        ng-mouseenter="setIndex($index)"        ng-repeat="item in items"        mac-menu-transclude="mac-menu-transclude">    </li>  </ul></div>',transclude:!0,scope:{items:"=macMenuItems",style:"=macMenuStyle",select:"&macMenuSelect",pIndex:"=macMenuIndex"},link:function(a,b,c){a.selectItem=function(b){a.select({index:b})},a.setIndex=function(b){a.index=b,c.macMenuIndex&&(a.pIndex=parseInt(b))},c.macMenuIndex&&a.$watch("pIndex",function(b){a.index=parseInt(b)}),a.$watchCollection("items",function(a){a.length?c.$addClass("visible"):c.$removeClass("visible")})}}}).directive("macMenuTransclude",["$compile",function(a){return{link:function(b,c,d,e,f){f(b,function(d){c.empty(),d.length||(d=a("<span>{{item.label}}<span>")(b)),c.append(d)})}}}]),b.module("Mac").directive("macModal",["$parse","modal","util",function(a,c,d){return{restrict:"E",template:c.defaults.template,replace:!0,transclude:!0,link:function(e,f,g,h,i){i(e,function(a){b.element(f[0].querySelector(".mac-modal-content-wrapper")).replaceWith(a)});var j=d.extendAttributes("macModal",c.defaults,g);j.overlayClose&&f.on("click",function(a){b.element(a.target).hasClass("mac-modal-overlay")&&e.$apply(function(){c.hide()})});var k=["beforeShow","afterShow","beforeHide","afterHide","open"];k.forEach(function(c){var e="macModal"+d.capitalize(c);j[c]=a(g[e])||b.noop});var l=function(a){a&&(c.register(a,f,j),e.$on("$destroy",function(){c.opened&&c.opened.id==a&&c.hide(),c.unregister(a)}))};g.id?l(g.id):g.$observe("macModal",function(a){l(a)})}}}]).directive("macModal",["$parse","modal",function(a,b){return{restrict:"A",link:function(c,d,e){e.macModal&&d.bind("click",function(){return c.$apply(function(){var d=a(e.macModalData)(c)||{};b.show(e.macModal,{data:d,scope:c})}),!0})}}}]).directive("macModalClose",["modal",function(a){return{restrict:"A",link:function(b,c){c.bind("click",function(){b.$apply(function(){a.hide()})})}}}]),b.module("Mac").directive("macPlaceholder",function(){return{restrict:"A",link:function(a,b,c){a.$watch(c.macPlaceholder,function(a){c.$set("placeholder",a)})}}}),b.module("Mac").directive("macPopover",["$timeout","macPopoverDefaults","popover","util",function(a,b,c,d){return{restrict:"A",link:function(e,f,g){function h(){l&&(a.cancel(l),l=null),m&&(a.cancel(m),m=null)}function i(b,d){d=d||0,h(),l=a(function(){var a=c.last();return!(!a||(c.hide(),f[0]!==a.element[0]))||(k.scope=e,void c.show(b,f,k))},d)}function j(b,d){d=d||0,h(),m=a(function(){c.hide(b)},d)}var k,l,m,n;k=d.extendAttributes("macPopover",b.trigger,g),n=g.$observe("macPopover",function(a){var b,c;a&&("click"===k.trigger?f.bind("click",function(){i(a,0)}):(b="focus"===k.trigger?"focusin":"mouseenter",c="focus"===k.trigger?"focusout":"mouseleave",f.bind(b,function(){i(a,400)}),f.bind(c,function(){j(f,500)}),n()))}),e.$on("$destroy",function(){j(f,0)})}}}]).directive("macPopover",["macPopoverDefaults","popover","util",function(a,c,d){return{restrict:"E",compile:function(e,f){var g;if(!f.id)throw Error("macPopover: Missing id");return g=d.extendAttributes("macPopover",a.element,f),b.extend(g,{template:e.html()}),function(a,b,d){var e=d.$observe("id",function(a){var d;c.register(a,g),d=document.createComment("macPopover: "+a),b.replaceWith(d),e()})}}}}]).directive("macPopoverFillContent",["$compile",function(a){return{restrict:"A",link:function(b,c){c.html(b.macPopoverTemplate),a(c.contents())(b)}}}]),b.module("Mac").directive("macScrollSpy",["$window","scrollSpy","scrollSpyDefaults","util",function(a,c,d,e){return{link:function(f,g,h){var i,j;i=e.extendAttributes("macScrollSpy",d,h),j="BODY"==g[0].tagName?b.element(a):g,j.bind("scroll",function(){var a,b,d,e,h;if(0==c.registered.length)return!0;if(a=j.scrollTop()+i.offset,b=j[0].scrollHeight||g[0].scrollHeight,d=b-j.height(),a>=d)return c.setActive(c.last());for(e=0;e<c.registered.length;e++)if(h=c.registered[e],a>=h.top&&(!c.registered[e+1]||a<=c.registered[e+1].top))return f.$apply(function(){c.setActive(h)}),!0})}}}]).directive("macScrollSpyAnchor",["scrollSpy",function(a){return{link:function(b,c,d){var e=d.id||d.macScrollSpyAnchor;if(!e)throw new Error("Missing scroll spy anchor id");var f=a.register(e,c);b.$on("$destroy",function(){a.unregister(e)}),b.$on("refresh-scroll-spy",function(){f&&a.updateOffset(f)})}}}]).directive("macScrollSpyTarget",["scrollSpy","scrollSpyDefaults",function(a,b){return{link:function(c,d,e){var f=e.macScrollSpyTarget,g=e.macScrollSpyTargetClass||b.highlightClass;if(!f)throw new Error("Missing scroll spy target name");var h=function(a){d.toggleClass(g,f==a.id)};a.active&&h(a.active),a.addListener(h),c.$on("$destroy",function(){a.removeListener(h)})}}}]),b.module("Mac").directive("macSpinner",["util",function(a){var c=function(a,d,e){var f,g;if(b.isObject(d))for(g in d)c(a,g,d[g]);else for(f=0;f<a.length;f++)a[f].style[d]=e},d=function(a,d,e){e&&(c(d,{height:.32*e+"px",left:.445*e+"px",top:.37*e+"px",width:.13*e+"px",borderRadius:.32*e*2+"px",position:"absolute"}),!isNaN(+e)&&b.isNumber(+e)&&(e+="px"),a.css({height:e,width:e}))},e={size:16,zIndex:"inherit",color:"#2f3035"};return{restrict:"E",replace:!0,template:'<div class="mac-spinner"></div>',compile:function(f){var g,h,i,j,k,l=[],m=a.getCssVendorName(f[0],"animation"),n=a.getCssVendorName(f[0],"transform");for(g=0;g<10;g++)h=.1*g-1+!g,i=36*g,j={},k=b.element('<div class="bar"></div>'),l.push(k[0]),j[m]="fade 1s linear infinite "+h+"s",j[n]="rotate("+i+"deg) translate(0, 130%)",k.css(j),f.append(k);return function(a,b,f){f.macSpinnerSize?f.$observe("macSpinnerSize",function(a){d(b,l,a)}):d(b,l,e.size),f.$observe("macSpinnerZIndex",function(a){a&&b.css("z-index",a)}),f.macSpinnerColor?f.$observe("macSpinnerColor",function(a){a&&c(l,"background",a)}):c(l,"background",e.color)}}}}]),b.module("Mac").directive("macTagAutocomplete",[function(){return{restrict:"E",template:'<div class="mac-tag-autocomplete">  <ul class="mac-tag-list">    <li ng-repeat="tag in macTagAutocomplete.selected" class="mac-tag">      <div ng-click="macTagAutocomplete.selected.splice($index, 1)" class="mac-tag-close">&times;</div>      <div class="tag-label">{{macTagAutocomplete.getTagLabel(tag)}}</div>    </li>    <li class="mac-tag">      <mac-autocomplete class="mac-tag-input mac-autocomplete"        ng-keydown="macTagAutocomplete.onKeyDown($event)"        ng-model="macTagAutocomplete.textInput"        mac-autocomplete-disabled="disabled"        mac-autocomplete-on-select="macTagAutocomplete.onSelect(selected)"        mac-autocomplete-on-success="macTagAutocomplete.onSuccess(data, status, headers)"        mac-autocomplete-source="macTagAutocomplete.source"        mac-placeholder="macTagAutocomplete.placeholder"></mac-autocomplete>    </li>  </ul></div>',replace:!0,priority:800,scope:{source:"=macTagAutocompleteSource",placeholder:"=macTagAutocompletePlaceholder",selected:"=macTagAutocompleteSelected",disabled:"=macTagAutocompleteDisabled",model:"=macTagAutocompleteModel",onSuccessFn:"&macTagAutocompleteOnSuccess",onEnterFn:"&macTagAutocompleteOnEnter",onKeydownFn:"&macTagAutocompleteOnKeydown",labelKey:"@macTagAutocompleteLabel"},controller:"MacTagAutocompleteController",controllerAs:"macTagAutocomplete",bindToController:!0,compile:function(a,d){var e=d.macTagAutocompleteLabel!=c?d.macTagAutocompleteLabel:"name",f=+d.macTagAutocompleteDelay;f=isNaN(f)?800:f;var g=b.element(a[0].querySelector(".mac-autocomplete"));return g.attr({"mac-autocomplete-label":e,"mac-autocomplete-query":d.macTagAutocompleteQuery||"q","mac-autocomplete-delay":f}),function(a,b,c,d){c.macTagAutocompleteModel&&(a.$watch("macTagAutocomplete.textInput",function(b){a.model=b}),a.$watch("macTagAutocomplete.model",function(a){d.textInput=a})),b.bind("click",function(){var a=b[0].querySelector(".mac-autocomplete");a.focus()}),a.$on("mac-tag-autocomplete-clear-input",function(){d.textInput=""})}}}}]);var v=["Blur","Focus","Keyup","Keydown","Keypress"];v.forEach(o),b.module("Mac").directive("macTime",["keys","util","macTimeDefaults","macTimeUtil",function(a,b,d,e){return{restrict:"E",require:"ngModel",replace:!0,template:'<input class="mac-date-time" type="text" maxlength="8">',link:function(f,g,h,i){var j,k,l,m;j=b.extendAttributes("macTime",d,h),m=[a.UP,a.DOWN,a.LEFT,a.RIGHT,a.A,a.P],h.placeholder||h.$set("placeholder",j.placeholder),l=function(a){return!a||b.validateTime(a)?(i.$setValidity("time",!0),a):(i.$setValidity("time",!1),c)},i.$formatters.push(l),i.$parsers.push(l),k=e.initializeTime(j),g.on("blur",function(){f.$apply(function(){e.updateInput(k,i)})}),g.on("click",function(){return f.$apply(function(){var a=!!i.$modelValue;if(e.updateTime(k,i),e.updateInput(k,i),!a)return void e.selectHours(g);switch(e.getSelection(g)){case"hour":e.selectHours(g);break;case"minute":e.selectMinutes(g);break;case"meridian":e.selectMeridian(g)}}),!0}),g.on("keydown",function(b){var c=b.which;return m.indexOf(c)===-1||(b.preventDefault(),void f.$apply(function(){var b,d,f=e.getSelection(g);if(c===a.UP||c===a.DOWN){switch(b=c===a.UP?1:-1,f){case"hour":e.incrementHour(k,b),e.selectHours(g);break;case"minute":e.incrementMinute(k,b),e.selectMinutes(g);break;case"meridian":e.toggleMeridian(k),e.selectMeridian(g)}e.updateInput(k,i)}else c===a.LEFT?(e.selectPreviousSection(g),e.updateInput(k,i)):c===a.RIGHT?(e.selectNextSection(g),e.updateInput(k,i)):c!==a.A&&c!==a.P||"meridian"!==f||(d=c===a.A?"AM":"PM",e.setMeridian(k,d),e.updateInput(k,i),e.selectMeridian(g))}))}),g.on("keyup",function(b){var c=b.which;a.NUMPAD0<=c&&c<=a.NUMPAD9||a.ZERO<=c&&c<=a.NINE||b.preventDefault(),f.$apply(function(){e.updateTime(k,i)})})}}}]),b.module("Mac").directive("macTooltip",["$timeout","macTooltipDefaults","util",function(a,d,e){return{restrict:"A",link:function(f,g,h){function i(){var a,c,d,e,f;if(n||!m||l)return!0;switch(a=q.inside?g:b.element(document.body),j(0),f=b.element('<div class="tooltip-message"></div>'),f.html(m),l=b.element("<div />").addClass("mac-tooltip "+q.direction),l.append(f),a.append(l),c=q.inside?{top:0,left:0}:g.offset(),d={width:g.outerWidth(),height:g.outerHeight()},e={width:l.outerWidth(),height:l.outerHeight()},q.direction){case"bottom":case"top":c.left+=d.width/2-e.width/2;break;case"left":case"right":c.top+=d.height/2-e.height/2}return"bottom"==q.direction?c.top+=d.height:"top"==q.direction?c.top-=e.height:"left"==q.direction?c.left-=e.width:"right"==q.direction&&(c.left+=d.width),b.forEach(c,function(a,c){!isNaN(+a)&&b.isNumber(+a)&&(a+="px"),l.css(c,a)}),l.addClass(q.class),!0}function j(b){return b=b===c?100:b,l&&!p&&(l.removeClass(q.class),p=a(function(){l&&l.remove(),l=null,p=null},b,!1)),!0}function k(){return l?j():i()}var l,m,n,o,p,q;q=e.extendAttributes("macTooltip",d,h),o=h.$observe("macTooltip",function(a){if(a!==c){if(m=a,"hover"!==q.trigger&&"click"!==q.trigger)throw new Error("macTooltip: Invalid trigger");"click"===q.trigger?g.bind("click",k):"hover"===q.trigger&&(g.bind("mouseenter",i),g.bind("mouseleave click",function(){j()})),o()}}),h.macTooltipDisabled&&f.$watch(h.macTooltipDisabled,function(a){n=!!a}),f.$on("$destroy",function(){j(0)})}}}]);var w=p("true","false"),x=p("true",""),y=p("","false");b.module("Mac").filter("boolean",w).filter("true",x).filter("false",y),b.module("Mac").filter("list",function(){return function(a,c){return c||(c=", "),b.isArray(a)?a.join(c):a}}),b.module("Mac").filter("pluralize",["util",function(a){return function(b,d,e){return e===c&&(e=!0),a.pluralize(b,d,e)}}]),b.module("Mac").filter("timestamp",["util",function(a){function b(b,c){return c=a.pluralize(c,b),b+" "+c+" ago"}return function(a){var c,d=parseInt(a),e=Math.round(Date.now()/1e3);return isNaN(d)?a:(c=e-d,c<45?"just now":c<120?"about a minute ago":c<60?c+" seconds ago":(c/=60,c<60?b(Math.floor(c),"min"):(c/=60,c<24?b(Math.floor(c),"hour"):(c/=24,c<7?b(Math.floor(c),"day"):c<31?b(Math.floor(c/7),"week"):c<365?b(Math.floor(c/31),"month"):b(Math.floor(c/365),"year")))))}}]),b.module("Mac").provider("modal",function(){var c={};this.registered=c,this.$get=["$animate","$compile","$controller","$document","$http","$q","$rootScope","$templateCache","keys","macModalDefaults",function(d,e,f,g,h,i,j,k,l,m){var n={registered:c,defaults:m,waiting:null,opened:null,show:function(a,c){if(c=c||{},this.registered[a]&&this.opened)return this.hide();if(this.registered[a]){var d=this.registered[a],e=d.options,f={};return b.extend(f,e,c),d.element?this._showModal(a,d.element,f):this._getTemplate(f).then(function(b){return this._renderModal(a,b,f)}.bind(this)).then(function(b){return this._showModal(a,b,f)}.bind(this))}this.waiting={id:a,options:c}},resize:function(c){if(c=c||this.opened){var d=c.element,e=c.options;if(e.position){var f,g=b.element(d[0].querySelector(".mac-modal")),h=g.outerHeight(),i=g.outerWidth();f=b.element(a).height()>h?{marginTop:-h/2}:{top:e.topOffset},f.marginLeft=-i/2,b.forEach(f,function(a,c){!isNaN(+a)&&b.isNumber(+a)&&(a+="px"),g.css(c,a)})}}},hide:function(){if(!this.opened)return i.when();var a=this.opened.id,c=this.opened.options,e=this.opened.element;return c.beforeHide(e.scope()),d.removeClass(e,"visible").then(function(){if(c.afterHide(e.scope()),this.registered[a]&&this.registered[a].element){var f=e[0].querySelector(".mac-modal");f.removeAttribute("style")}else b.isScope(c.scope)||e.scope().$destroy(),d.leave(e);this.bindingEvents("off"),this.opened=null,j.$broadcast("modalWasHidden",a)}.bind(this))},bindingEvents:function(c){return c=c||"on",!("on"!=c&&"off"!=c||!this.opened)&&(this.opened.options.keyboard&&g[c]("keydown",this._escapeHandler),this.opened.options.resize&&b.element(a)[c]("resize",this._resizeHandler),!0)},register:function(a,c,d){if(this.registered[a])throw new Error("Modal "+a+" already registered");var e={};b.extend(e,this.defaults,d),this.registered[a]={id:a,element:c,options:e},this.waiting&&this.waiting.id===a&&this.show(a,this.waiting.options)},unregister:function(a){if(!this.registered[a])throw new Error("Modal "+a+" is not registered");this.opened&&this.opened.id==a&&this.hide(),this.clearWaiting(a),delete this.registered[a]},clearWaiting:function(a){a&&this.waiting&&this.waiting.id!=a||(this.waiting=null)},_showModal:function(a,b,c){return c.beforeShow(b.scope()),d.addClass(b,"visible").then(function(){this.opened={id:a,element:b,options:c},this.resize(this.opened),this.bindingEvents(),c.open(b.scope()),c.afterShow(b.scope()),j.$broadcast("modalWasShown",a),this.clearWaiting()}.bind(this))},_renderModal:function(a,c,g){var h,i=this;b.isScope(g.scope)?h=g.scope:(h=j.$new(!0),b.isObject(g.scope)&&b.extend(h,g.scope)),b.extend(g.attributes,{id:a});var k=b.element(this.defaults.template).attr(g.attributes),l=b.element(k[0].querySelector(".mac-modal-content-wrapper"));return l.html(c),g.overlayClose&&k.bind("click",function(a){a.target&&a.target.className.indexOf("mac-modal-overlay")>-1&&h.$apply(function(){i.hide()})}),g.controller&&f(g.controller,{$scope:h,$element:k,macModalOptions:g}),e(k)(h),d.enter(k,b.element(document.body)).then(function(){return k})},_escapeHandler:function(a){if(a.keyCode==l.ESCAPE&&n.opened){var b=n.opened.element.scope();b.$apply(function(){n.hide()})}},_resizeHandler:function(){n.resize()},_getTemplate:function(a){var b=a.templateUrl;if(b){var c=k.get(b);return c?i.when(c):h.get(b).then(function(a){return k.put(b,a.data),a.data},function(){throw new Error("Failed to load template: "+b)})}if(a.template)return i.when(a.template);throw new Error("Missing template for modal")}};return n}]}).config(["modalProvider","macModalDefaults",function(a,c){b.module("Mac").modal=function(d,e){if(!a.registered[d]){var f={};b.extend(f,c,e),a.registered[d]={id:d,options:f}}}}]),b.module("Mac").provider("popover",function(){var d={};this.registered=d,this.$get=["$animate","$compile","$controller","$http","$parse","$rootScope","$templateCache","$timeout","$q","macPopoverDefaults",function(e,f,g,h,i,j,k,l,m,n){return{popoverList:[],registered:d,defaults:n.element,popoverDefaults:n.trigger,template:n.template,last:function(){return 0===this.popoverList.length?null:this.popoverList[this.popoverList.length-1]},register:function(a,b){var c=this.registered[a];return c||(this.registered[a]=b),!c},unregister:function(a){var b=this.registered[a];return b&&delete this.registered[a],!!b},add:function(a,b,c,d){var e={id:a,popover:b,element:c,options:d};return this.popoverList.push(e),e},pop:function(){return this.popoverList.pop();
},_compilePopover:function(a,c,d){var e,h,i=this;return d=d||{},d.scope&&b.isScope(d.scope)?e=d.scope.$new():(e=j.$new(!0),d.scope&&b.isObject(d.scope)&&b.extend(e,d.scope)),d.refreshOn&&e.$on(d.refreshOn,function(){i.reposition(a)}),d.controller&&g(d.controller,{$scope:e}),b.extend(e,{macPopoverClasses:{footer:d.footer||!1,header:d.header||!!d.title||!1},macPopoverTitle:d.title||"",macPopoverTemplate:c}),h=f(n.template)(e),h.attr({id:a,direction:d.direction||n.trigger.direction}),m.when(h)},_getTemplate:function(a){if(a.template)return m.when(a.template);if(a.templateUrl){var b=a.templateUrl,c=k.get(b);return c?m.when(c):h.get(b).then(function(a){return k.put(b,a.data),a.data},function(){return m.reject("Failed to load template: "+b)})}return m.reject()},_getContainer:function(a,c){if(c.container===!0)return a.parent();if(b.isString(c.container)){var d=i(c.container)(a.scope());if(b.isElement(d))return d}else if(b.isElement(c.container))return c.container;return b.element(document.body)},show:function(a,c,d){d=d||{};var f=this.registered[a];if(!f)return m.reject(!1);var g=b.extend({},f,d);return this._getTemplate(g).then(function(b){return this._compilePopover(a,b,g)}.bind(this)).then(function(b){var f=this._getContainer(c,g),h=this.add(a,b,c,d);return e.addClass(c,"active"),j.$broadcast("popoverWasShown",a),e.enter(b,f).then(function(){return h})}.bind(this)).then(function(a){return this.reposition(a)}.bind(this))},getById:function(a,b){var c,d;for(c=0;c<this.popoverList.length;c++)if(d=this.popoverList[c],d.id===a&&(!b||d.element===b))return d;return null},reposition:function(d){if(b.isString(d)&&(d=this.getById(d)),!d)return m.reject();var e=d.popover,f=d.element,g=d.options,h=b.element(a),i=f.offset(),j=this._getContainer(f,g),k={top:0,left:0};j[0]!==document.body&&("HTML"!==j[0].nodeName&&(k=j.offset()),i.top-=k.top,i.left-=k.left);var l={height:f.outerHeight(),width:f.outerWidth()},n={height:e.outerHeight(),width:e.outerWidth()},o=(e.attr("direction")||"above left").trim(),p=this.calculateOffset(o,n,l),q=h.scrollTop(),r=h.scrollLeft(),s={};if(o.indexOf("middle")===-1)i.top+p.top-q<0?s={remove:"above",add:"below"}:i.top+p.top+n.height-q>h.height()&&(s={remove:"below",add:"above"});else{var t=i.top+p.top-q;if(t>=0&&(t+=e.outerHeight()-h.height(),t<0&&(t=null)),t){var u=b.element(e[0].getElementsByClassName("tip")),v=+u.css("margin-tip").replace("px","");u.css("margin-top",v+t)}}return s.remove&&s.add&&(o=o.replace(s.remove,s.add)),s={},i.left+p.left-r<0?s={remove:"right",add:"left"}:i.left+p.left+e.outerWidth()-r>h.width()&&(s={remove:"left",add:"right"}),s.remove&&s.add&&(o=o.replace(s.remove,s.add)),p=this.calculateOffset(o,n,l),i.top+=p.top,i.left+=p.left,g.offsetX!==c&&(i.left+=g.offsetX),g.offsetY!==c&&(i.top+=g.offsetY),b.forEach(i,function(a,b){isNaN(+a)||(a+="px"),e.css(b,a)}),e.addClass("visible "+o),m.when(!0)},calculateOffset:function(a,b,c){var d={top:0,left:0};switch(a){case"above left":d.top=-(b.height+10),d.left=-25+c.width/2;break;case"above right":d.top=-(b.height+10),d.left=25+c.width/2-b.width;break;case"below left":d.top=c.height+10,d.left=-25+c.width/2;break;case"below right":d.top=c.height+10,d.left=25+c.width/2-b.width;break;case"middle right":d.top=c.height/2-b.height/2,d.left=c.width+10;break;case"middle left":d.top=c.height/2-b.height/2,d.left=-(b.width+10)}return d},hide:function(a){var c,d,f,g=-1;if(0===this.popoverList.length)return m.when();if(a){for(b.isString(a)?c=function(b){return b.id===a}:b.isElement(a)&&(c=function(b){return b.element===a}),d=this.popoverList.length-1;d>=0;d--)if(c(this.popoverList[d])){f=this.popoverList[d],g=d;break}g>-1&&this.popoverList.splice(g,1)}else f=this.popoverList.pop();if(f){j.$broadcast("popoverBeforeHide",f.id),e.removeClass(f.element,"active");var h=f.popover.scope();return e.leave(f.popover).then(function(){return j.$broadcast("popoverWasHidden",f.id),h.$destroy(),!0})}},hideAll:function(){for(;this.popoverList.length;)this.hide()}}}]}).config(["popoverProvider","macPopoverDefaults",function(a,c){b.module("Mac").popover=function(d,e){if(!a.registered[d]){var f={};b.extend(f,c.trigger,e,{id:d}),a.registered[d]=f}}}]),b.module("Mac").service("scrollSpy",[function(){return{registered:[],active:{},listeners:[],register:function(a,b){var c={id:a,element:b,top:b.offset().top};return this.registered.push(c),this.sort(),c},updateOffset:function(a){a.top=a.element.offset().top,this.sort()},sort:function(){this.registered.sort(function(a,b){return a.top>b.top?1:a.top<b.top?-1:0})},unregister:function(a){var b,c=-1;for(b=0;b<this.registered.length;b++)if(this.registered[b].id===a){c=b;break}c!==-1&&this.registered.splice(c,1)},last:function(){return this.registered[this.registered.length-1]},setActive:function(a){var b;if(this.active.id!==a.id)for(this.active=a,b=0;b<this.listeners.length;b++)this.listeners[b](a)},addListener:function(a){return this.listeners.push(a)},removeListener:function(a){var b=this.listeners.indexOf(a);b!==-1&&this.listeners.splice(b,1)}}}]),b.module("Mac").factory("macTimeUtil",["$filter","$timeout","macTimeDefaults","util",function(a,b,c,d){function e(a){var b,d=(new Date).toDateString();return b=new Date(d+" "+a.default),isNaN(b.getTime())&&(b=new Date(d+" "+c.default)),b}function f(a){var b=a[0].selectionStart;return 0<=b&&b<3?"hour":3<=b&&b<6?"minute":6<=b&&b<9?"meridian":void 0}function g(a,c,d){b(function(){a[0].setSelectionRange(c,d)},0,!1)}function h(a){g(a,0,2)}function i(a){g(a,3,5)}function j(a){g(a,6,8)}function k(a){switch(f(a)){case"hour":i(a);break;case"minute":case"meridian":j(a)}}function l(a){switch(f(a)){case"hour":case"minute":h(a);break;case"meridian":i(a)}}function m(a,b){var c=a.getHours();c>=12&&"AM"===b?c-=12:c<12&&"PM"===b&&(c+=12),a.setHours(c)}function n(a){var b=a.getHours();a.setHours((b+12)%24)}function o(a,b){a.setHours(a.getHours()+b)}function p(a,b){a.setMinutes(a.getMinutes()+b)}function q(b,c){var d=a("date")(b.getTime(),"hh:mm a");d!==c.$viewValue&&(c.$setViewValue(d),c.$render())}function r(a,b){var c,e,f,g=d.validateTime(b.$modelValue);g&&(c=+g[1],e=+g[2],f=g[3],"PM"==f&&12!=c&&(c+=12),"AM"==f&&12==c&&(c=0),a.setHours(c,e))}return{getSelection:f,incrementHour:o,incrementMinute:p,initializeTime:e,selectHours:h,selectMeridian:j,selectMinutes:i,selectNextSection:k,selectPreviousSection:l,selectRange:g,setMeridian:m,toggleMeridian:n,updateInput:q,updateTime:r}}]),b.module("Mac.Util",[]).factory("util",["$filter",function(a){var d={uncountables:["sheep","fish","moose","series","species","money","rice","information","info","equipment","min"],irregulars:{child:"children",man:"men",woman:"women",person:"people",ox:"oxen",goose:"geese"},pluralizers:[[/(quiz)$/i,"$1zes"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)(ix|ex)$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/x$/i,"xes"],[/s$/i,"s"],[/$/,"s"]]},e=["webkit","Moz","ms","O"],f="^(0?[1-9]|1[0-2]):([0-5][0-9])[\\s]([AP]M)$",g=new RegExp(f),h="(?:(http[s]?):\\/\\/)?(?:(www|[\\d\\w\\-]+)\\.)?([\\d\\w\\-]+)\\.([A-Za-z]{2,6})(:[\\d]*)?([:\\/?#\\[\\]@!$&'()*+,;=\\w\\d-._~%\\\\]*)?",i=new RegExp(h,"i"),j=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return{pluralize:function(e,f,g){var h,i,j,k,l,m,n,o,p,q;if(e=e||"",g=g||!1,!b.isString(e)||0===this.trim(e).length)return e;if(g&&isNaN(+f))return"";if(f===c&&(f=2),n=d.pluralizers,o=d.uncountables,h=d.irregulars,p=e.split(/\s/).pop(),i=p.toUpperCase()===p,j=p.toLowerCase(),l=1===f||o.indexOf(j)>=0?p:null,null===l&&h[j]&&(l=h[j]),!l)for(q=0;q<n.length;q++)if(m=n[q],m[0].test(j)){l=p.replace(m[0],m[1]);break}return l=l||p,i&&(l=l.toUpperCase()),k=e.slice(0,-p.length)+l,g?a("number")(f)+" "+k:k},trim:function(a){var b;return b=String(a)||"",null!==String.prototype.trim?b.trim():b.replace(/^\s+|\s+$/gm,"")},capitalize:function(a){var b;return b=String(a)||"",b.charAt(0).toUpperCase()+b.substring(1)},uncapitalize:function(a){var b;return b=String(a)||"",b.charAt(0).toLowerCase()+b.substring(1)},toCamelCase:function(a){return a=a||"",this.trim(a).replace(/[-_\s]+(.)?/g,function(a,b){return b.toUpperCase()})},toSnakeCase:function(a){return a=a||"",this.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},convertKeysToCamelCase:function(a){var b,c,d={};for(b in a)c=a[b],b=this.toCamelCase(b),c&&"object"==typeof c&&c.constructor!==Array&&(c=this.convertKeysToCamelCase(c)),d[b]=c;return d},convertKeysToSnakeCase:function(a){var b,c,d={};for(b in a)c=a[b],b=this.toSnakeCase(b),c&&"object"==typeof c&&c.constructor!==Array&&(c=this.convertKeysToSnakeCase(c)),d[b]=c;return d},pyth:function(a,b){return Math.sqrt(a*a+b*b)},degrees:function(a){return 180*a/Math.PI},radian:function(a){return a*Math.PI/180},hex2rgb:function(a){var b,c,d;0===a.indexOf("#")&&(a=a.substring(1)),a=a.toLowerCase(),c={},3===a.length?(c.r=a.charAt(0)+a.charAt(0),c.g=a.charAt(1)+a.charAt(1),c.b=a.charAt(2)+a.charAt(2)):(c.r=a.substring(0,2),c.g=a.substring(2,4),c.b=a.substring(4));for(b in c)d=c[b],c[b]=parseInt(d,16);return c},validateUrl:function(a){var b=i.exec(a);return null!==b&&(b={url:b[0],protocol:b[1]||"http",subdomain:b[2],name:b[3],domain:b[4],port:b[5],path:b[6]||"/"}),b},validateEmail:function(a){return j.test(a)},validateTime:function(a){return g.exec(a)},getQueryString:function(a,b){var c,d,e;return b=b||"",b=b.replace(/\[/,"[").replace(/\]/,"]"),d="[?&]"+b+"=([^&#]*)",c=new RegExp(d),e=c.exec(a),e?e[1]:""},parseUrlPath:function(a){var b,c,d,e,f,g,h,i,j,k,l;if(g=a.split("?"),c=g[0].split("/"),b=c.slice(0,c.length-1).join("/"),i=c[c.length-1],d={},g.length>1)for(f=g[g.length-1],l=f.split("&"),j=0,k=l.length;j<k;j++)e=l[j],h=e.split("="),d[h[0]]=null!=h[1]?h[1]:"";return{fullPath:a,path:b,pathComponents:c,verb:i,queries:d}},extendAttributes:function(a,b,c){var d,e,f,g,h,i;a=a||"",g={};for(e in b)b.hasOwnProperty(e)&&(h=b[e],d=a?this.capitalize(e):e,f=""+a+d,i=null!=c[f]?c[f]||!0:h,"true"===i||"false"===i?i="true"===i:null!=i&&i.length>0&&!isNaN(+i)&&(i=+i),g[e]=i);return g},getCssVendorName:function(a,b){var c,d,f=this.capitalize(b);for(c=0;c<e.length;c++)if(d=e[c],a.style.hasOwnProperty(d+f))return d+f;return b}}}])}(window,window.angular);